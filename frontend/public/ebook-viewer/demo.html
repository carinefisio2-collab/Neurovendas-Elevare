<!DOCTYPE html>
<!--
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  DEMO - Elevare E-book Viewer
  
  Este arquivo demonstra como usar o viewer com diferentes tipos de conte√∫do:
  - PDF
  - HTML
  - Imagens
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo - Elevare E-book Viewer</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: linear-gradient(135deg, #f8f7fa 0%, #e8e5f0 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    h1 {
      text-align: center;
      font-size: 2rem;
      color: #1e293b;
      margin-bottom: 8px;
    }
    
    .subtitle {
      text-align: center;
      color: #64748b;
      margin-bottom: 40px;
    }
    
    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    
    .demo-section h2 {
      font-size: 1.25rem;
      color: #1e293b;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .demo-section p {
      color: #64748b;
      margin-bottom: 16px;
      line-height: 1.6;
    }
    
    .code-block {
      background: #1e293b;
      color: #e2e8f0;
      border-radius: 8px;
      padding: 16px;
      overflow-x: auto;
      font-family: 'Fira Code', monospace;
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 16px;
    }
    
    .code-block .comment {
      color: #64748b;
    }
    
    .code-block .string {
      color: #a5f3fc;
    }
    
    .code-block .keyword {
      color: #c4b5fd;
    }
    
    .code-block .function {
      color: #fcd34d;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      border: none;
      font-size: 14px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
    }
    
    .btn-outline {
      background: white;
      color: #7c3aed;
      border: 2px solid #7c3aed;
    }
    
    .btn-outline:hover {
      background: #f5f3ff;
    }
    
    .buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    .input-group {
      margin-bottom: 16px;
    }
    
    .input-group label {
      display: block;
      font-weight: 500;
      color: #374151;
      margin-bottom: 8px;
    }
    
    .input-group input,
    .input-group select {
      width: 100%;
      padding: 12px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
    }
    
    .input-group input:focus,
    .input-group select:focus {
      outline: none;
      border-color: #7c3aed;
      box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
    }
    
    .badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }
    
    .badge-pdf { background: #fef2f2; color: #dc2626; }
    .badge-html { background: #fef3c7; color: #d97706; }
    .badge-images { background: #dbeafe; color: #2563eb; }
    
    .preview-frame {
      width: 100%;
      height: 500px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      margin-top: 16px;
    }
    
    .note {
      background: #f0fdf4;
      border-left: 4px solid #22c55e;
      padding: 12px 16px;
      border-radius: 0 8px 8px 0;
      font-size: 14px;
      color: #166534;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìö Elevare E-book Viewer</h1>
    <p class="subtitle">Demonstra√ß√£o do microaplicativo de visualiza√ß√£o de e-books</p>
    
    <!-- Demo com PDF -->
    <div class="demo-section">
      <h2>
        <span class="badge badge-pdf">PDF</span>
        Carregar PDF
      </h2>
      <p>
        Carregue um arquivo PDF local ou use uma URL. O viewer usa PDF.js para renderizar 
        cada p√°gina como canvas, sem necessidade de servidor externo.
      </p>
      
      <div class="input-group">
        <label for="pdf-url">URL do PDF</label>
        <input type="text" id="pdf-url" placeholder="https://exemplo.com/ebook.pdf ou cole um link">
      </div>
      
      <div class="input-group">
        <label for="pdf-file">Ou selecione um arquivo</label>
        <input type="file" id="pdf-file" accept=".pdf">
      </div>
      
      <div class="buttons">
        <button class="btn btn-primary" onclick="loadPDF()">
          üìñ Abrir PDF
        </button>
        <button class="btn btn-outline" onclick="loadSamplePDF()">
          üìÑ PDF de Exemplo
        </button>
      </div>
    </div>
    
    <!-- Demo com HTML -->
    <div class="demo-section">
      <h2>
        <span class="badge badge-html">HTML</span>
        Carregar HTML
      </h2>
      <p>
        Carregue conte√∫do HTML estruturado. O viewer divide automaticamente em p√°ginas 
        baseado em headers (h1, h2) ou elementos com classe "page".
      </p>
      
      <div class="buttons">
        <button class="btn btn-primary" onclick="loadHTMLDemo()">
          üåê Demo HTML
        </button>
      </div>
    </div>
    
    <!-- Demo com Imagens -->
    <div class="demo-section">
      <h2>
        <span class="badge badge-images">IMAGENS</span>
        Carregar Imagens
      </h2>
      <p>
        Carregue um array de URLs de imagens (PNG/JPG). Cada imagem ser√° uma p√°gina do e-book.
      </p>
      
      <div class="buttons">
        <button class="btn btn-primary" onclick="loadImagesDemo()">
          üñºÔ∏è Demo Imagens
        </button>
      </div>
    </div>
    
    <!-- Integra√ß√£o -->
    <div class="demo-section">
      <h2>üîß Integra√ß√£o via iframe</h2>
      <p>
        O viewer pode ser facilmente incorporado em qualquer p√°gina via iframe. 
        Use par√¢metros de URL ou postMessage para carregar o conte√∫do.
      </p>
      
      <div class="code-block">
        <span class="comment">// Exemplo 1: Via URL params</span><br>
        &lt;iframe<br>
        &nbsp;&nbsp;src="<span class="string">/ebook-viewer/?source=URL_DO_PDF&type=pdf&title=Meu E-book</span>"<br>
        &nbsp;&nbsp;width="100%"<br>
        &nbsp;&nbsp;height="600"<br>
        &gt;&lt;/iframe&gt;<br><br>
        
        <span class="comment">// Exemplo 2: Via postMessage</span><br>
        <span class="keyword">const</span> iframe = document.<span class="function">querySelector</span>(<span class="string">'iframe'</span>);<br>
        iframe.contentWindow.<span class="function">postMessage</span>({<br>
        &nbsp;&nbsp;action: <span class="string">'loadEbook'</span>,<br>
        &nbsp;&nbsp;source: <span class="string">'https://exemplo.com/ebook.pdf'</span>,<br>
        &nbsp;&nbsp;type: <span class="string">'pdf'</span>,<br>
        &nbsp;&nbsp;title: <span class="string">'Meu E-book'</span><br>
        }, <span class="string">'*'</span>);
      </div>
      
      <div class="note">
        üí° O viewer envia eventos de p√°gina atual via postMessage, permitindo 
        rastrear o progresso de leitura para analytics.
      </div>
    </div>
    
    <!-- Preview -->
    <div class="demo-section">
      <h2>üëÅÔ∏è Preview</h2>
      <iframe id="preview-frame" class="preview-frame" src="index.html"></iframe>
    </div>
  </div>
  
  <script>
    const previewFrame = document.getElementById('preview-frame');
    
    // Carregar PDF via URL
    function loadPDF() {
      const url = document.getElementById('pdf-url').value;
      const fileInput = document.getElementById('pdf-file');
      
      if (fileInput.files.length > 0) {
        // Arquivo local
        const file = fileInput.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
          sendToViewer({
            action: 'loadEbook',
            source: e.target.result,
            type: 'pdf',
            title: file.name.replace('.pdf', '')
          });
        };
        reader.readAsDataURL(file);
      } else if (url) {
        // URL
        sendToViewer({
          action: 'loadEbook',
          source: url,
          type: 'pdf',
          title: 'E-book PDF'
        });
      } else {
        alert('Por favor, insira uma URL ou selecione um arquivo PDF');
      }
    }
    
    // Carregar PDF de exemplo
    function loadSamplePDF() {
      sendToViewer({
        action: 'loadEbook',
        source: 'https://www.w3.org/WAI/WCAG21/Techniques/pdf/img/table-word.pdf',
        type: 'pdf',
        title: 'PDF de Exemplo'
      });
    }
    
    // Carregar HTML demo
    function loadHTMLDemo() {
      const htmlContent = `
        <section>
          <h1>Introdu√ß√£o ao Neurovendas</h1>
          <p>Bem-vindo a este guia completo sobre t√©cnicas de neurovendas para profissionais de est√©tica.</p>
          <p>Neste e-book, voc√™ aprender√° como usar a neuroci√™ncia para aumentar suas vendas e conquistar mais clientes.</p>
        </section>
        <section>
          <h2>Cap√≠tulo 1: Fundamentos</h2>
          <p>O c√©rebro humano toma decis√µes de compra de forma irracional. Entender isso √© o primeiro passo.</p>
          <ul>
            <li>95% das decis√µes s√£o inconscientes</li>
            <li>Emo√ß√µes guiam mais que l√≥gica</li>
            <li>Gatilhos mentais s√£o poderosos</li>
          </ul>
        </section>
        <section>
          <h2>Cap√≠tulo 2: Gatilhos Mentais</h2>
          <p>Os gatilhos mentais s√£o atalhos cognitivos que podemos usar eticamente para persuadir.</p>
          <blockquote>
            "Pessoas n√£o compram produtos, compram vers√µes melhores de si mesmas."
          </blockquote>
          <p>Os principais gatilhos incluem: escassez, urg√™ncia, prova social e autoridade.</p>
        </section>
        <section>
          <h2>Cap√≠tulo 3: Aplica√ß√£o Pr√°tica</h2>
          <p>Agora vamos colocar em pr√°tica o que aprendemos.</p>
          <p>Crie sua primeira campanha usando os princ√≠pios de neurovendas.</p>
        </section>
      `;
      
      sendToViewer({
        action: 'loadEbook',
        source: htmlContent,
        type: 'html',
        title: 'Guia de Neurovendas'
      });
    }
    
    // Carregar imagens demo
    function loadImagesDemo() {
      const images = [
        'https://picsum.photos/seed/cover/600/800',
        'https://picsum.photos/seed/page1/600/800',
        'https://picsum.photos/seed/page2/600/800',
        'https://picsum.photos/seed/page3/600/800',
        'https://picsum.photos/seed/back/600/800'
      ];
      
      sendToViewer({
        action: 'loadEbook',
        source: images,
        type: 'images',
        title: 'E-book em Imagens'
      });
    }
    
    // Envia mensagem para o viewer
    function sendToViewer(data) {
      previewFrame.contentWindow.postMessage(data, '*');
    }
    
    // Escutar eventos do viewer
    window.addEventListener('message', function(event) {
      if (event.data && event.data.type === 'elevare-ebook-page-change') {
        console.log('P√°gina atual:', event.data.currentPage, '/', event.data.totalPages);
        console.log('Progresso:', event.data.progress.toFixed(1) + '%');
      }
    });
  </script>
</body>
</html>
